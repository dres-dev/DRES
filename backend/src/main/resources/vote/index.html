<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vote on Submission</title>
    <style>

        * {
            background-color: #000;
            color: #fff;
            font-family: Arial, Helvetica, sans-serif;
        }

        body, html {
            height: 100%;
            display: grid;
        }

        #content {
            margin: auto;
            width: 500px;
            text-align: center;
        }

        .button {
            display: inline-block;
            height: 200px;
            width: 200px;
            text-align: center;
            border-radius: 50%;
            background-repeat: no-repeat;
            background-position: center;
        }

        #correct {
            background-color: #0d0;
            float: left;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2645.8333 2472.504' height='24.72504mm' width='26.458334mm'%3E%3Cpath style='fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke-width:0.56079555' id='path9' d='m 2377.2122,2195.471 v 227.683 c 0,27.479 -21.871,49.35 -49.35,49.35 H 1105.328 c -10.6551,0 -20.7495,-3.3648 -28.6006,-8.9727 L 862.5035,2330.6227 v 92.5313 c 0,27.479 -21.871,49.35 -49.35,49.35 H 49.9108 c -27.479,0 -49.35,-21.871 -49.35,-49.35 0,-1.6824 0,-2.804 0,-4.4864 L 0,1082.2919 c 0,-27.479 21.871,-49.35 49.35,-49.35 v 0 h 763.8035 c 27.479,0 49.35,21.871 49.35,49.35 v 10.6551 L 1344.2269,590.47423 1464.2371,38.651432 c 5.608,-26.3574 31.9654,-43.1811996 58.8835,-37.5732996 6.1688,1.1216 12.3375,3.9256 17.3847,7.8512 26.3574,15.7021996 68.9779,41.4987996 112.1591,67.8561996 31.9654,19.0671 64.4915,38.694898 114.9631,69.538698 12.3375,7.2903 20.1886,19.6278 22.4318,32.5261 v 0 l 93.0921,477.237 c 1.6824,8.9727 1.1216,17.3847 -1.1216,25.2358 l -105.9904,353.86197 820.4439,-1.1216 c 27.479,0 49.35,21.871 49.35,49.35 v 0 370.6858 c 0,27.479 -21.871,49.35 -49.35,49.35 h -19.0671 v 319.6535 c 0,27.479 -21.871,49.35 -49.35,49.35 h -56.0795 v 273.6682 c 0,27.479 -21.8711,49.35 -49.35,49.35 z m -1820.903,-55.5187 c 26.3574,0 47.6676,21.871 47.6676,48.2284 0,26.3574 -21.3102,47.6676 -47.6676,47.6676 -26.3574,0 -48.2285,-21.3102 -48.2285,-47.6676 0,-26.3574 21.8711,-48.2284 48.2285,-48.2284 z m 306.1943,-904.5632 v 978.5882 l 256.8444,159.8267 h 1159.1643 v -178.333 h -71.7818 c -27.479,0 -49.35,-21.871 -49.35,-49.35 0,-27.479 21.871,-49.35 49.35,-49.35 h 121.1318 45.4245 v -224.3182 h -166.5563 c -27.479,0 -49.35,-21.871 -49.35,-49.35 0,-27.479 21.871,-49.35 49.35,-49.35 h 215.9063 56.0795 v -270.3035 h -269.7426 c -27.479,0 -49.35,-21.871 -49.35,-49.35 0,-27.479 21.871,-49.35 49.35,-49.35 h 319.0926 19.0671 v -271.9858 l -833.903,1.1216 c -5.6079,0.5608 -11.7767,0 -17.3846,-2.2432 -26.3574,-7.2903 -40.9381,-35.3301 -33.087,-61.1267 l 121.1319,-407.13757 -86.3625,-444.15 c -25.7966,-15.7023 -61.1268,-37.0125 -95.8961,-58.3228 -17.3846,-10.0943 -35.3301,-20.7494 -55.5187,-33.6477 l -108.2336,497.9864 v 0 c -1.6824,8.412 -6.1687,16.8239 -12.8983,23.5535 z m -98.7,1006.0671 v -1025.695 -84.1193 H 98.7 l 0.5608,1242.1621 h 664.5427 z' class='fil1' /%3E%3C/svg%3E%0A");
        }

        #wrong {
            background-color: #d00;
            float: right;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2645.8333 2472.504' height='24.72504mm' width='26.458334mm'%3E%3Cpath style='fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke-width:0.56079555' id='path9' d='M 268.6211,277.03315 V 49.350153 c 0,-27.479 21.871,-49.35000042983 49.35,-49.35000042983 l 1222.5342,10e-12 c 10.6551,0 20.7495,3.36480002982 28.6006,8.97270002982 L 1783.3298,141.88145 V 49.350153 c 0,-27.479 21.871,-49.35000042982 49.35,-49.35000042982 h 763.2427 c 27.479,0 49.35,21.87100042982 49.35,49.35000042982 0,1.6824 0,2.804 0,4.4864 l 0.5608,1336.375747 c 0,27.479 -21.871,49.35 -49.35,49.35 v 0 h -763.8035 c -27.479,0 -49.35,-21.871 -49.35,-49.35 v -10.6551 l -481.7234,502.4727 -120.0102,551.8228 c -5.608,26.3574 -31.9654,43.1812 -58.8835,37.5733 -6.1688,-1.1216 -12.3375,-3.9256 -17.3847,-7.8512 -26.3574,-15.7022 -68.9779,-41.4988 -112.1591,-67.8562 -31.9654,-19.0671 -64.4915,-38.6949 -114.9631,-69.5387 -12.3375,-7.2903 -20.1886,-19.6278 -22.4318,-32.5261 v 0 l -93.0921,-477.237 c -1.6824,-8.9727 -1.1216,-17.3847 1.1216,-25.2358 L 869.7939,1437.3191 49.35,1438.4407 c -27.479,0 -49.35,-21.871 -49.35,-49.35 v 0 -370.6858 c 0,-27.47905 21.871,-49.35005 49.35,-49.35005 h 19.0671 v -319.6535 c 0,-27.479 21.871,-49.35 49.35,-49.35 h 56.0795 v -273.6682 c 0,-27.479 21.8711,-49.35 49.35,-49.35 z m 1820.903,55.5187 c -26.3574,0 -47.6676,-21.871 -47.6676,-48.2284 0,-26.3574 21.3102,-47.6676 47.6676,-47.6676 26.3574,0 48.2285,21.3102 48.2285,47.6676 0,26.3574 -21.8711,48.2284 -48.2285,48.2284 z M 1783.3298,1237.1151 V 258.52685 l -256.8444,-159.826697 -1159.1643,0 V 277.03315 h 71.7818 c 27.479,0 49.35,21.871 49.35,49.35 0,27.479 -21.871,49.35 -49.35,49.35 H 317.9711 272.5466 v 224.3182 h 166.5563 c 27.479,0 49.35,21.871 49.35,49.35 0,27.479 -21.871,49.35 -49.35,49.35 H 223.1966 167.1171 v 270.3035 h 269.7426 c 27.479,0 49.35,21.871 49.35,49.35005 0,27.479 -21.871,49.35 -49.35,49.35 H 117.7671 98.7 v 271.9858 l 833.903,-1.1216 c 5.6079,-0.5608 11.7767,0 17.3846,2.2432 26.3574,7.2903 40.9381,35.3301 33.087,61.1267 l -121.1319,407.1375 86.3625,444.15 c 25.7966,15.7023 61.1268,37.0125 95.8961,58.3228 17.3846,10.0943 35.3301,20.7494 55.5187,33.6477 l 108.2336,-497.9864 v 0 c 1.6824,-8.412 6.1687,-16.8239 12.8983,-23.5535 z m 98.7,-1006.06715 0,1025.69505 v 84.1193 h 665.1035 L 2546.5725,98.700153 h -664.5427 z' class='fil1' /%3E%3C/svg%3E%0A");
        }


    </style>
    <script>

    const voteOk = "Vote received, thank you!";
    const voteFailed = "There was a problem, please try again.";
    const goBack = "<br><a href=\"javascript:reset()\">Go back</a>";
    const buttons = "<a class=\"button\" href=\"javascript:vote('CORRECT')\" id=\"correct\"></a> <a class=\"button\" href=\"javascript:vote('WRONG')\" id=\"wrong\"></a>"

    function reset() {
        document.getElementById("content").innerHTML = buttons;
    }

    function vote(verdict) {
        var runId = window.location.hash.substr(1)
        fetch(window.location.origin + '/api/run/' + runId + '/judge/vote', {method: "POST", body: JSON.stringify(
        {
            verdict: verdict
        }
        )}).then( res => {
                document.getElementById("content").innerHTML = res.ok ?
                    voteOk + goBack
                :
                    voteFailed + goBack
                ;
            }
        );
    }

    </script>
</head>
<body><div id="content"> </div>
<script>
    if (window.location.hash.length > 10) {
        reset();
    } else {
        document.getElementById("content").innerHTML = "Invalid request, no run specified";
    }
</script>
</body>
</html>
